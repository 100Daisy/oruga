.o-button {
    -moz-appearance: none;
    -webkit-appearance: none;
    @include unselectable;
    display: inline-flex;
    position: relative;
    cursor: pointer;
    text-align: center;
    white-space: nowrap;
    align-items: center;
    justify-content: center;
    vertical-align: top;
    text-decoration: none;
    @include variable('background-color', 'button-background-color', $button-background-color);
    @include variable('color', 'button-color', $button-color);
    @include variable('padding', 'button-padding', $button-padding);
    @include variable('border', 'button-border', $button-border);
    @include variable('border-radius', 'button-border-radius', $button-border-radius);
    @include variable('box-shadow', 'button-box-shadow', $button-box-shadow);
    @include variable('font-size', 'button-font-size', $button-font-size);
    @include variable('line-height', 'button-line-height', $button-line-height);
    @include variable('margin', 'button-margin', $button-margin);
    &.o-button-expanded {
        width: 100%;
    }
    &.o-button-rounded {
        @include variable('border-radius', 'button-border-radius', $button-rounded-border-radius);
    }
    > .o-icon:first-child:not(:last-child) {
        @include variable('margin-left', 'button-margin-border-to-icon', $button-margin-border-to-icon);
        @include variable('margin-right', 'button-margin-icon-to-text', $button-margin-icon-to-text);
    }
    > .o-icon:last-child:not(:first-child) {
        @include variable('margin-left', 'button-margin-icon-to-text', $button-margin-icon-to-text);
        @include variable('margin-right', 'button-margin-border-to-icon', $button-margin-border-to-icon);
    }
    @each $name, $value in $sizes {
        &.o-size-#{$name} {
            @include variable('font-size', ('button-font-size-' + #{$name}), $value);
        }
    }
    @each $name, $pair in $colors {
        $color: nth($pair, 1);
        $color-invert: nth($pair, 2);
        &.o-color-#{$name} {
            border-color: transparent;
            @include variable('background-color', ('color-' + #{$name}), $color);
            @include variable('color', ('color-invert-' + #{$name}), $color-invert);
            &:hover {
                // background-color: darken($color, 2.5%)
                // IE 11 needs polyfill
                filter: brightness(97.5%);
            }
            &.o-button-outlined {
                background-color: transparent;
                @include variable('border-color', ('color-' + #{$name}), $color);
                @include variable('color', ('color-' + #{$name}), $color);
                &:hover {
                    border-color: transparent;
                    @include variable('background-color', ('color-' + #{$name}), $color);
                    @include variable('color', ('color-invert-' + #{$name}), $color-invert);
                }
            }
            &.o-button-inverted {
                @include variable('background-color', ('color-invert-' + #{$name}), $color-invert);
                @include variable('border-color', ('color-invert-' + #{$name}), $color-invert);
                @include variable('color', ('color-' + #{$name}), $color);
                &:hover {
                    // background-color: darken($color-invert, 5%)
                    // IE 11 needs polyfill
                    filter: brightness(95%);
                }
            }
            &.o-button-inverted {
                @include variable('background-color', ('color-invert-' + #{$name}), $color-invert);
                @include variable('border-color', ('color-invert-' + #{$name}), $color-invert);
                @include variable('color', ('color-' + #{$name}), $color);
                &:hover {
                    // background-color: darken($color-invert, 5%)
                    // IE 11 needs polyfill
                    filter: brightness(95%);
                }
            }
            &.o-button-inverted.o-button-outlined {
                background-color: transparent;
                @include variable('border-color', ('color-invert-' + #{$name}), $color-invert);
                @include variable('color', ('color-invert-' + #{$name}), $color-invert);
                &:hover {
                    @include variable('background-color', ('color-invert-' + #{$name}), $color-invert);
                    @include variable('border-color', ('color-invert-' + #{$name}), $color-invert);
                    @include variable('color', ('color-' + #{$name}), $color);
                }
            }
        }
    }
}
